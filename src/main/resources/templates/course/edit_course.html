<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Art School</title>
    <div th:replace="fragments/styles :: styles"></div>
</head>
<body>
    <div th:replace="fragments/header :: header"></div>

    <div class="row mt-5 mx-5 px-5">
        <div class="col-4">
            <figure class="figure">
                <img src="/images/course.png" class="figure-img img-fluid rounded">
            </figure>
        </div>
        <div class="col-8">
            <div class="jumbotron">
                <h1 class="display-4">Edit course</h1>
                <form class="needs-validation form-horizontal mt-4" novalidate th:action="|/instructor/course/update/${id}|" method="POST">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    <div class="form-group row">
                        <label for="name" class="col-3 col-form-label">
                            <a class="lead">Name:</a>
                        </label>
                        <div class="col-9">
                            <input type="text" class="form-control" id="name" name="name" th:value="${course.name}" required>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="disciplines" class="col-3 col-form-label">
                            <a class="lead">Discipline:</a>
                        </label>
                        <div class="col-9">
                            <select id="disciplines" name="disciplines" class="selectpicker form-control" multiple title="Discipline..." data-live-search="true" data-style="btn-white" required>
                                <option th:each="discipline : ${disciplines}" th:value="${discipline.name}" th:text="${discipline.getCapitalizedName()}" th:selected="${course.disciplines.contains(discipline) ?: 'selected'}"></option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="audience" class="col-3 col-form-label">
                            <a class="lead">Audience:</a>
                        </label>
                        <div class="col-9">
                            <select id="audience" name="audience" class="selectpicker form-control" title="Audience..." data-live-search="true" data-style="btn-white" required>
                                <option th:each="audience : ${T(com.artschool.model.enumeration.Audience).values()}" th:value="${{audience}}" th:text="${audience}" th:selected="${audience} == ${course.audience} ?: 'selected'"></option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="fee" class="col-3 col-form-label">
                            <a class="lead">Fee:</a>
                        </label>
                        <div class="col-9">
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">$</span>
                                </div>
                                <input type="number" class="form-control" id="fee" name="fee" th:value="${course.fee}" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="date" class="col-3 col-form-label">
                            <a class="lead">Date:</a>
                        </label>
                        <div class="col-9">
                            <input type="text" class="form-control" id="date" name="date" th:value="${course.date.getFormattedStartDate()} + ' - ' + ${course.date.getFormattedEndDate()}" required/>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-3 col-form-label">
                            <a class="lead">Time:</a>
                        </label>
                        <div class="col-9">
                            <div class="row">
                                <div class="col">
                                    <div class="input-group clockpicker">
                                        <input type="text" id="start_time" name="startTime" class="form-control" value="19:00" title="Start time" th:value="${course.date.startTime}" required>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="input-group clockpicker">
                                        <input type="text" id="end_time" name="endTime" class="form-control" value="21:00" title="End time" th:value="${course.date.endTime}" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="days" class="col-3 col-form-label">
                            <a class="lead">Days:</a>
                        </label>
                        <div class="col-9">
                            <select id="days" name="days" class="selectpicker form-control" multiple title="Day..." data-live-search="true" data-style="btn-white" required>
                                <option th:each="day : ${days}" th:value="${day.name}" th:text="${day.getCapitalizedName()}" th:selected="${course.days.contains(day) ?: 'selected'}"></option>

                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="description" class="col-3 col-form-label">
                            <a class="lead">Description:</a>
                        </label>
                        <div class="col-9">
                            <div class="input-group">
                                <textarea class="form-control" id="description" name="description" th:text="${course.description}" rows="7" aria-label="With textarea" required></textarea>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="edit" type="submit">Save</button>
                    <a class="btn btn-light" href="/instructor/course/list">Cancel</a>
                </form>
            </div>
        </div>
    </div>
    <script src="/js/bootstrap_select.js"></script>
    <script src="/js/date_range_picker.js"></script>
    <script src="/js/clock_picker.js"></script>
    <script src="/js/form_validation.js"></script>
</body>
</html>